
@{
    ViewBag.Title = "Index";
}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
<script src="http://malsup.github.com/jquery.form.js"></script>
    <h2>Developer Page</h2>
        <h3>FileUpload</h3>

        @using (Ajax.BeginForm(null, null, new AjaxOptions() { HttpMethod = "POST" }, new { enctype = "multipart/form-data" }))
        {
            <table>
                <tr>
                    <td><input type="file" name="files" id="files" multiple /></td>
                    <td><input type="submit" name="upload" value="Upload" id="upload" /></td>
                </tr>
                
            </table>
        }
    <div class="progress progress-striped" style="width:60%">
    <div style="color:blue" class="progress-bar progress-bar-success">0%</div>
</div>

<div id="status"></div>
   
<script>
    (function () {
    var bar = $('.progress-bar');
    var percent = $('.progress-bar');
    var status = $('#status');
    $('form').ajaxForm({
        beforeSend: function() {
            status.empty();
            var percentVal = '0%';
            bar.width(percentVal)
            percent.html(percentVal);
        },
        uploadProgress: function(event, position, total, percentComplete) {
            var percentVal = percentComplete + '%';
            bar.width(percentVal)
            percent.html(percentVal);
        },
        success: function() {
            var percentVal = '100%';
            bar.width(percentVal)
            percent.html(percentVal);
        },
        complete: function(xhr) {
            status.html(xhr.responseText);
        }
    }); 

    })();       
    
</script>

